{% extends "base.html" %}
{% block title %}{{title}}{% endblock title %}

{% block body %} 


<div class="container mt-2 mx-auto" id="return-book">
    <h4 class="my-header">Return Book</h4>
    
    <form method="post" action="http://127.0.0.1:8000/returning-book/"> {% csrf_token %}
    <div class="container card p-2" style="width: 65vw;">        
        {% if messages %}
        {% for message in messages %}
        <div class="alert alert-{{message.tags}}" role="alert">
            {{message}}
        </div>
        {% endfor %}
        {% endif %}
        <div class="alert alert-primary" role="alert" style="color: white; background-color: #198754;">
            Book Details
        </div>

      <div class="row">
        <div class="col-md-6 mb-3">
            <div class="form-group">
              <label for="ISBN">ISBN Nummber <span class="text-danger"> *</span></label>
              <input type="text" class="form-control" name="ISBN" id="ISBN" value="{{book.ISBN}}" readonly>
            </div>
          </div>

        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label for="bookName">Book Name</label>
            <input type="text" class="form-control" name="bookName" id="bookName" value="{{book.bookName}}" readonly>
          </div>
        </div>
        
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
            <div class="form-group">
              <label for="depart">Book Department</label>
              <input type="text" class="form-control" name="bookDepartment" id="depart" value="{{book.department}}" readonly>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div class="form-group">
              <label for="bookPages">Book Pages</label>
              <input type="text" class="form-control" name="bookPages" id="bookPages" value="{{book.bookPages}}" readonly>
            </div>
          </div>

      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label for="autherName">Author Name</label>
            <input type="text" class="form-control" name="authorName" id="autherName" value="{{book.authorName}}" readonly>
          </div>
        </div>

        <div class="col-md-6 mb-3">
            <div class="form-group">
              <label for="status">Book Status</label>
              <input type="text" class="form-control text-danger" name="status" id="status" value="{{book.status}}" readonly>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6 mb-3">
              <div class="form-group">
                <label for="bookSource">Book Source</label>
                <input type="text" class="form-control" name="bookSource" id="bookSource" value="{{book.bookSource}}" readonly>
              </div>
            </div>
    
            <div class="col-md-6 mb-3">
                <div class="form-group">
                  <label for="bookPrice">Book Price</label>
                  <input type="text" class="form-control text-danger" name="bookPrice" id="bookPrice" value="{{book.bookPrice}}" readonly>
                </div>
              </div>
          </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label for="coverImage">Cover Image</label><br>
            {% if book.coverImage %}
            <img src="{{book.coverImage.url}}" alt="No Image" style="width: 100px; height: 100px;">
            {% else %}
            <img src="" alt="No Image" style="width: 100px; height: 100px;">
            {% endif %}
          </div>
        </div>

        
      </div>
      
    </div>

    <div class="container card p-2 mt-2" style="width: 65vw;">        
        <div class="alert alert-primary" role="alert">
            Student Details
        </div>

      <div class="row">
        <div class="col-md-6 mb-3">
            <div class="form-group">
              <label for="library_id">Library Id <span class="text-danger"> *</span></label>
              <input type="text" class="form-control" name="library_id" id="library_id" value="{{student.library_id}}" readonly>
            </div>
          </div>

        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label for="name">Student Name</label>
            <input type="text" class="form-control" name="name" id="name" value="{{student.name}}" readonly>
          </div>
        </div>
        
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
            <div class="form-group">
              <label for="studentDepartment">Student Department</label>
              <input type="text" class="form-control" name="studentDepartment" id="studentDepartment" value="{{student.department}}" readonly>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div class="form-group">
              <label for="semester">Semester</label>
              <input type="text" class="form-control" name="semester" id="semester" value="{{student.semester}}" readonly>
            </div>
          </div>

      </div>

      <div class="row">

        
        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label for="mobile">Mobile Number</label>
            <input type="text" class="form-control" name="mobile" id="mobile" value="{{student.mobile}}" readonly>
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <div class="form-group">
            <label for="email">Email</label>
            <input type="text" class="form-control" name="email" id="email" value="{{student.user.email}}" readonly>
          </div>
        </div>


      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
            <div class="form-group">
              <label for="issuedBooks">Issued Books</label>
              <input type="text" class="form-control text-danger" name="issuedBooks" id="issuedBooks" value="{{student.issuedBooks}}" readonly>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div class="form-group">
              <label for="returnedBooks">Returned Books</label>
              <input type="text" class="form-control text-danger" name="returnedBooks" id="returnedBooks" value="{{student.returnedBooks}}" readonly>
            </div>
          </div>
        </div>

        <a type="button" href="http://127.0.1:8000/" class="btn btn-danger mb-1">Cancel</a>
        {% if found and book.status == 'Not Available' %}<button type="submit" class="btn btn-success" onclick="confirm('Sure {{student.name}} is returning book -- {{book.bookName}}?')">Return Book</button>{% endif %}

  </form>
  
</div>

    

{% endblock body %}